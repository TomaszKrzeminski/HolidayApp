@using HolidayApp.Entities
@using HolidayApp.Models
@using System.Collections.Generic
@model BookRoomViewModel
@{
    ViewBag.Title = "BookHolidayHome";
    @*List<DateTime> daysBooked=@ViewBag.Day;*@
}

<h2>Book  Room</h2>

<link rel='stylesheet' type="text/css" href='https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/2.7.1/fullcalendar.min.css' />
<style type="text/css">
    .field-validation-error {
        color: red;
    }
</style>








<div class="container">
    <div class="row">
        <div class="col-lg-12" id="calendar"></div>
    </div>
    <div class="row">
        <div class="col-lg-8">
            @using (Html.BeginForm("ReserveRoom", "Client"))
            {
                @*@Html.ValidationSummary()*@
                <div class="form-group">
                    <div>
                        @Html.ValidationMessage("dateFrom")
                    </div>

                    @Html.Label("Book From")
                    @Html.TextBox("dateFrom", "", new { @class = "form-control   datepicker" })
                </div>
                <div class="form-group">
                    <div>
                        @Html.ValidationMessage("dateTo")
                    </div>

                    @Html.Label("Book To")
                    @Html.TextBox("dateTo", "", new { @class = "form-control datepicker" })
                </div>
                <div>
                    @Html.Hidden("roomId", Model.room.RoomId)



                </div>

                <div>
                    <input type="submit" value="Book" class="form-control" />
                </div>






            }
        </div>
    </div>

</div>
<link href="~/Content/themes/base/jquery-ui.css" rel="stylesheet" />



@section scripts
{

    <script src="~/Scripts/moment.js"></script>

    <script src="~/Scripts/jquery-3.2.1.js"></script>

    <script src="~/Scripts/fullcalendar.js"></script>






    <script src="~/Scripts/jquery-ui-1.12.1.js"></script>
    <script type="text/javascript">
    $(function () {
       $('.datepicker').datepicker();
    });
    </script>

    <script>
        $(document).ready(
            function () {

                var jsonlist = @Html.Raw(Json.Encode(Model.list));
                var length = jsonlist.length;


                $('#calendar').fullCalendar(

                    {



                        viewRender: function () {

                            for (i = 0; i < length; i++) {


                                $("[data-date=" + jsonlist[i] + "]").css("background-color", "red");


                            }







                        }

                    }


                );
            }
        );
    </script>









    @*function () {




                //for (i = 0; i < jsonlist.length; i++) {
                //    alert(jsonlist[i]);

                //}

                @*var jsonlist = @Html.Raw(Json.Encode(Model));
            var length = jsonlist.length;
            var collection = new Set();






        @*//viewRender: function () {

                //    for (i = 0; i < length; i++) {


                //        $("[data-date=" + jsonlist[i] + "]").css("background-color", "red");


                //    }










                //},
                //dayClick: function (date, jsEvent, view) {

                //    collection.add(date.format());
                //    //alert('Clicked on: ' + date.format());

                //    //alert('Coordinates: ' + jsEvent.pageX + ',' + jsEvent.pageY);

                //    //alert('Current view: ' + view.name);

                //    // change the day's background color just for fun
                //    $(this).css('background-color', 'red');

                //}





            //});


            //}








            //}*@














}